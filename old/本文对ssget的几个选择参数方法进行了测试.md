<P>本文对ssget的几个选择参数方法进行了测试<br/>要求:选择指定的坐标范围内的物体.<br/>根据使用的选择方法不同而得到不同的响应时间.<br/>结论如下:<br/>1.采用先选择后过滤(s1,s2,s3这三个函数):这种方法的速度取决于一次所能选择到的物体的个数:<br/>在估计能选择到的物体小于1000个的时候是有优势的,超过这个数以后,就很慢了.<br/>2.采用选择过滤器中的坐标过滤功能(s4):这种方法的速度取决于文件的大小,<br/>当文件很小时,速度是最快的,当文件有点大的时候,速度是最慢的<br/>3.程序中如果有大量的选择操作时,不防先判断一下文件大小,以及估计一下选择集的大小,以考滤采用何种选择过滤方式</P>
<P><br/>新建一个文件下的测试数据:<br/>100个圆:<br/>函数:#&lt;USUBR @04b1e118 S1&gt;测试结果00:00:00:341<br/>函数:#&lt;USUBR @04b1e140 S2&gt;测试结果00:00:00:250<br/>函数:#&lt;USUBR @04b1e168 S3&gt;测试结果00:00:00:280<br/>函数:#&lt;USUBR @04b1e190 S4&gt;测试结果00:00:00:029<br/>500个圆:<br/>函数:#&lt;USUBR @04b1e118 S1&gt;测试结果00:00:00:782<br/>函数:#&lt;USUBR @04b1e140 S2&gt;测试结果00:00:00:630<br/>函数:#&lt;USUBR @04b1e168 S3&gt;测试结果00:00:00:640<br/>函数:#&lt;USUBR @04b1e190 S4&gt;测试结果00:00:00:070<br/>1000个圆:<br/>函数:#&lt;USUBR @04b1e118 S1&gt;测试结果00:00:01:752<br/>函数:#&lt;USUBR @04b1e140 S2&gt;测试结果00:00:01:571<br/>函数:#&lt;USUBR @04b1e168 S3&gt;测试结果00:00:01:512<br/>函数:#&lt;USUBR @04b1e190 S4&gt;测试结果00:00:00:130</P>
<P>原来一个13M的图形下的测试数据:<br/>100个圆<br/>函数:#&lt;USUBR @04a2dc80 S1&gt;测试结果00:00:00:169<br/>函数:#&lt;USUBR @04a2dcbc S2&gt;测试结果00:00:00:230<br/>函数:#&lt;USUBR @04a2dcf8 S3&gt;测试结果00:00:00:150<br/>函数:#&lt;USUBR @04a2dd48 S4&gt;测试结果00:00:02:152</P>
<P>500个圆:<br/>函数:#&lt;USUBR @04a2dc80 S1&gt;测试结果00:00:00:841<br/>函数:#&lt;USUBR @04a2dcbc S2&gt;测试结果00:00:00:730<br/>函数:#&lt;USUBR @04a2dcf8 S3&gt;测试结果00:00:00:671<br/>函数:#&lt;USUBR @04a2dd48 S4&gt;测试结果00:00:02:302</P>
<P>1000个圆:<br/>函数:#&lt;USUBR @04a2dc80 S1&gt;测试结果00:00:01:821<br/>函数:#&lt;USUBR @04a2dcbc S2&gt;测试结果00:00:01:542<br/>函数:#&lt;USUBR @04a2dcf8 S3&gt;测试结果00:00:01:251<br/>函数:#&lt;USUBR @04a2dd48 S4&gt;测试结果00:00:02:253</P>
<P>&nbsp;</P>
<P>`<br/>&nbsp; [FONT=courier new]<br/>;;;VisualLisp函数测试 1<br/>;;;多次运行这个命令,就能得到不同个数下的速度了<br/>(defun c:tt ()<br/>&nbsp; (setvar "cmdecho" 0)<br/>&nbsp; (setq re_times 10)<br/>&nbsp; (setq funlist (list s1 s2 s3 s4))</P>
<P>&nbsp; (setq&nbsp;pt1 (list 0 0 0)<br/>&nbsp;pt2 (list 0 2000 0)<br/>&nbsp;pt3 (list 2000 2000 0)<br/>&nbsp;pt4 (list 2000 0 0)<br/>&nbsp; )<br/>&nbsp; (repeat 100 (addcircle));每次增加100圆,对于s1,s2,s3这三个方法影响大,对s4影响不大<br/>&nbsp; (foreach fun funlist<br/>&nbsp;&nbsp;&nbsp; (progn<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (setq t1 (getvar "date")) ;_记录开始时间t1<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (repeat re_times<br/>&nbsp;(fun)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) ;_repeat<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (setq t2 (getvar "date")) ;_记录结束时间t2<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (princ "函数:")(princ fun)(princ "测试结果")<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (princ (menucmd (strcat "M=$(edtime," (rtos (- t2 t1) 2 16) ",HH:MM:SS:MSEC)")))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (princ "\n")<br/>&nbsp;&nbsp;&nbsp; ) ;_progn</P>
<P>&nbsp; ) ;_foreach<br/>&nbsp; (setvar "cmdecho" 1)<br/>&nbsp; (princ)<br/>)<br/>(defun s1()<br/>&nbsp;(setq ss(ssget "F"&nbsp;&nbsp;&nbsp; (list pt1 pt2)<br/>&nbsp;&nbsp;&nbsp;&nbsp; (list (cons 0 "CIRCLE")))<br/>&nbsp; )<br/>&nbsp; (ss_filter ss)<br/>&nbsp; (setq ss nil)<br/>&nbsp; )<br/>(defun s2()<br/>&nbsp;(setq ss (ssget "CP"&nbsp; (list pt1 pt2 pt3 pt4)<br/>&nbsp;&nbsp;&nbsp;&nbsp; (list (cons 0 "CIRCLE")))<br/>&nbsp; )<br/>&nbsp; (ss_filter ss)<br/>&nbsp; (setq ss nil)<br/>&nbsp; )<br/>(defun s3()<br/>&nbsp;(setq ss(ssget "C"&nbsp; pt1 pt3<br/>&nbsp;&nbsp;&nbsp;&nbsp; (list (cons 0 "CIRCLE")))<br/>&nbsp; )<br/>&nbsp; (ss_filter ss)<br/>&nbsp; (setq ss nil)<br/>&nbsp; )<br/>(defun s4();_这个函数是最慢的!<br/>&nbsp;(setq ss(ssget&nbsp;"X"<br/>&nbsp;&nbsp;(list (cons -4 "&lt;AND")<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (cons 0 "CIRCLE")<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (cons -4 "&gt;=,&gt;=,*")<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (list 10 -1 -1 0)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (cons -4 "&lt;=,&lt;=,*")<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (list 10 1 1 0)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (cons -4 "AND&gt;")<br/>&nbsp;&nbsp;)<br/>&nbsp; )<br/>&nbsp; )<br/>&nbsp; (setq ss nil)<br/>&nbsp; )<br/>(defun ss_filter(ss)<br/>&nbsp;&nbsp; (setq i% 0)<br/>&nbsp;&nbsp; (repeat (sslength ss)<br/>&nbsp;&nbsp;&nbsp;&nbsp; (progn<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (setq sn (ssname ss i%))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (setq ent(entget sn))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (setq ptmid (assoc 10 ent))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (setq xmid (cadr ptmid))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (setq ymid (cadr ptmid))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (if (or (&gt; xmid 1 ) (&gt; ymid 1) (&lt; xmid -1) (&lt; ymid -1) ) (setq ss(ssdel en ss )) )</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (setq i% (1+ i%))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );_progn<br/>&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp; );_repeat</P>
<P>&nbsp; ss<br/>&nbsp; )<br/>(defun addcircle ()<br/>&nbsp;(command "circle" (list 0 0 0) 1000 )<br/>&nbsp; )<br/>&nbsp; [/FONT]<br/>`</P>本文对ssget的几个选择参数方法进行了测试